<div class="guest-layout">

  <div class="guest-logo">
    <a routerLink="/">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
        <path d="M8.277.084a.5.5 0 0 0-.554 0l-7.5 5A.5.5 0 0 0 .5 6h1.875v7H1.5a.5.5 0 0 0 0 1h13a.5.5 0 1 0 0-1h-.875V6H15.5a.5.5 0 0 0 .277-.916zM12.375 6v7h-1.25V6zm-2.5 0v7h-1.25V6zm-2.5 0v7h-1.25V6zm-2.5 0v7h-1.25V6zM8 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2M.5 15a.5.5 0 0 0 0 1h15a.5.5 0 1 0 0-1z"/>
      </svg>
    </a>
  </div>

  <div class="auth-card">
    <h2>Criar Conta</h2>

    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

    <form (ngSubmit)="onRegister()" #regForm="ngForm">

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Nome</mat-label>
        <input matInput
               id="name"
               type="text"
               name="name"
               [(ngModel)]="userData.name"
               required
               minlength="4"
               #nameRef="ngModel"
               autofocus>
        <mat-error *ngIf="nameRef.hasError('minlength') && nameRef.touched">
          O nome deve ter no mínimo 4 caracteres.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Senha</mat-label>
        <input matInput
               id="password"
               type="password"
               name="password"
               [(ngModel)]="userData.password"
               required
               minlength="6"
               #passwordRef="ngModel">
        <mat-error *ngIf="passwordRef.hasError('minlength') && passwordRef.touched">
          A senha deve ter no mínimo 6 caracteres.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Confirmar Senha</mat-label>
        <input matInput
               id="password_confirmation"
               type="password"
               name="password_confirmation"
               [(ngModel)]="userData.password_confirmation"
               required>
      </mat-form-field>

      <div class="auth-actions">
        <a routerLink="/login">Já tem uma conta?</a>

        <button mat-raised-button
                color="primary"
                type="submit"
                [disabled]="regForm.invalid">
          Registrar
        </button>
      </div>

    </form>
  </div>
</div>
